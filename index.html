<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Invitaci√≥n Cinematogr√°fica Halloween ‚Äì Daniel & Sabrina</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root{
  --halloween:#ff6b35; --violet:#a45de6; --ink:#0b0613;
}
body{margin:0; padding:0; font-family:'Montserrat',sans-serif; background:#000; color:#fff; overflow:hidden;}
.stage{position:relative; width:100vw; height:100vh; overflow:hidden; display:grid; place-items:center;}
.moon{position:absolute;top:5vh;right:10vw;width:150px;height:150px;border-radius:50%;background:radial-gradient(circle at 35% 35%, #fff, #666);}
.castle{position:absolute;bottom:15vh;left:5vw;width:200px;height:160px;background:#1a1028; border-radius:6px;box-shadow:0 12px 10px rgba(0,0,0,.6);}
.fog{position:absolute;inset:0; pointer-events:none;}
.fog .layer{position:absolute;width:200%;height:50%;background:radial-gradient(ellipse, rgba(255,255,255,.08), transparent); filter:blur(14px);}
.sky-layer{position:absolute;inset:0;pointer-events:none;}
.bat, .ghost{position:absolute; font-size:clamp(16px,3vw,28px); opacity:.85;}
.card{position:relative; z-index:10; width:min(92vw,420px); background:rgba(20,10,30,.9); border-radius:20px; padding:20px; text-align:center;}
.card h1{font-family:'Cinzel',serif; color:var(--halloween);}
.card button{margin:5px;padding:12px 16px;border:none;border-radius:12px;font-weight:bold; cursor:pointer; transition:.2s; user-select:none;}
#flash{position:absolute;inset:0;background:#fff;opacity:0; z-index:50; pointer-events:none;}
.fire{position:absolute;width:100px;height:150px;border-radius:50%; background:radial-gradient(ellipse at bottom, orange, red, transparent); pointer-events:none; z-index:45;}
.smoke{position:absolute;width:50px;height:80px;border-radius:50%; background:radial-gradient(circle, rgba(200,200,200,.5), transparent); pointer-events:none; z-index:40;}
#gameCanvas{position:absolute;top:0;left:0;width:100%;height:100%; z-index:5;}
</style>
</head>
<body>
<div class="stage">
  <div class="moon"></div>
  <div class="castle"></div>
  <div class="fog">
    <div class="layer" style="top:0;"></div>
    <div class="layer" style="top:30%;"></div>
  </div>
  <div class="sky-layer" id="sky"></div>
  
  <canvas id="gameCanvas"></canvas>
  
  <div class="card">
    <h1>HALLOWEEN FEST üéÉ</h1>
    <p>Daniel & Sabrina ‚Äì Fiesta de Disfraces</p>
    <button id="btnWA">WhatsApp üí¨</button>
    <button id="btnUbicacion">üìç Ubicaci√≥n</button>
    <button id="btnRayos">‚ö° Rel√°mpago</button>
    <button id="btnFuego">üî• Fuego</button>
    <button id="btnHumo">üí® Humo</button>
  </div>
</div>

<div id="flash"></div>
<audio id="bgm" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="auto" loop></audio>

<script>
// ---------- AUDIO ----------
const audio=document.getElementById('bgm');
window.addEventListener('click', ()=>audio.play(), {once:true});

// ---------- BOTONES ----------
document.getElementById('btnWA').addEventListener('click', ()=>{window.open('https://wa.me/5493512345678?text=Confirmo%20asistencia','_blank');});
document.getElementById('btnUbicacion').addEventListener('click', ()=>{window.open('https://www.google.com/maps?q=Santos+Saya+Norte+138,+Colonia+Caroya','_blank');});

// ---------- EFECTOS ----------
const flashDiv=document.getElementById('flash');
document.getElementById('btnRayos').addEventListener('click', ()=>{
  flashDiv.style.opacity='0.8';
  setTimeout(()=>flashDiv.style.opacity='0',100);
});

document.getElementById('btnFuego').addEventListener('click', ()=>{
  const fire=document.createElement('div'); fire.className='fire';
  fire.style.left='50%'; fire.style.top='60%'; fire.style.transform='translateX(-50%)';
  document.body.appendChild(fire);
  setTimeout(()=>fire.remove(),1000);
});

document.getElementById('btnHumo').addEventListener('click', ()=>{
  for(let i=0;i<5;i++){
    const smoke=document.createElement('div'); smoke.className='smoke';
    smoke.style.left=(40+i*10)+'%'; smoke.style.top='60%';
    document.body.appendChild(smoke);
    let top=60; const anim=setInterval(()=>{
      top-=1; smoke.style.top=top+'%'; smoke.style.opacity=(top-50)/10;
      if(top<50){clearInterval(anim); smoke.remove();}
    },50);
  }
});

// ---------- MURCI√âLAGOS & FANTASMAS ----------
const sky=document.getElementById('sky');
const bats=['ü¶á','ü¶á','ü¶á']; const ghosts=['üëª','üëª'];
setInterval(()=>{
  const b=document.createElement('div'); b.className='bat'; b.textContent=bats[Math.floor(Math.random()*bats.length)];
  b.style.left='-10vw'; b.style.top=(10+Math.random()*40)+'vh'; b.style.fontSize=(18+Math.random()*10)+'px'; sky.appendChild(b);
  const move=setInterval(()=>{
    let left=parseFloat(b.style.left); left+=1.2; b.style.left=left+'vw';
    if(left>120){clearInterval(move); b.remove();}
  },20);
},1000);

setInterval(()=>{
  const g=document.createElement('div'); g.className='ghost'; g.textContent=ghosts[Math.floor(Math.random()*ghosts.length)];
  g.style.left='-10vw'; g.style.top=(15+Math.random()*35)+'vh'; g.style.fontSize=(18+Math.random()*10)+'px'; sky.appendChild(g);
  const move=setInterval(()=>{
    let left=parseFloat(g.style.left); left+=0.8; g.style.left=left+'vw';
    if(left>120){clearInterval(move); g.remove();}
  },20);
},1500);

// ---------- MINI JUEGO: atrapar dulces ----------
const canvas=document.getElementById('gameCanvas'); const ctx=canvas.getContext('2d');
let cw=canvas.width=window.innerWidth; let ch=canvas.height=window.innerHeight;
window.addEventListener('resize',()=>{cw=canvas.width=window.innerWidth; ch=canvas.height=window.innerHeight;});

const sweets=[]; const colors=['#ff0','#f06','#0ff','#0f0'];
function spawnSweet(){sweets.push({x:Math.random()*cw, y:0, r:12+Math.random()*8, color:colors[Math.floor(Math.random()*colors.length)]});}
setInterval(spawnSweet,700);

canvas.addEventListener('click', e=>{
  const rect=canvas.getBoundingClientRect();
  const mx=e.clientX-rect.left, my=e.clientY-rect.top;
  for(let i=sweets.length-1;i>=0;i--){
    const s=sweets[i]; const dx=s.x-mx, dy=s.y-my;
    if(Math.sqrt(dx*dx+dy*dy)<s.r){sweets.splice(i,1);}
  }
});

function animate(){
  ctx.clearRect(0,0,cw,ch);
  for(const s of sweets){s.y+=1.6+Math.random()*1.5; ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,2*Math.PI); ctx.fillStyle=s.color; ctx.fill();}
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
